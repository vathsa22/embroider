{"version":3,"file":"add-to-tree.js","sourceRoot":"","sources":["add-to-tree.ts"],"names":[],"mappings":";;AACA,qDAAyC;AAEzC,MAAqB,SAAU,SAAQ,wBAAM;IAC3C,YAAY,cAAoB,EAAU,IAAkD;QAC1F,KAAK,CAAC,cAAc,EAAE;YACpB,UAAU,EAAE,+BAA+B;SAC5C,CAAC,CAAC;QAHqC,SAAI,GAAJ,IAAI,CAA8C;IAI5F,CAAC;IACD,eAAe;QACb,4EAA4E;QAC5E,kDAAkD;QAClD,OAAO,KAAK,CAAC;IACf,CAAC;IACD,KAAK,CAAC,KAAK;QACT,MAAM,KAAK,CAAC,KAAK,EAAE,CAAC;QACpB,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;CACF;AAfD,4BAeC","sourcesContent":["import type { Node } from 'broccoli-node-api';\nimport { Funnel } from 'broccoli-funnel';\n\nexport default class AddToTree extends Funnel {\n  constructor(combinedVendor: Node, private hook: (outputPath: string) => Promise<void> | void) {\n    super(combinedVendor, {\n      annotation: '@embroider/compat/synthvendor',\n    });\n  }\n  shouldLinkRoots() {\n    // We want to force funnel to copy things rather than just linking the whole\n    // directory, because we're planning to mutate it.\n    return false;\n  }\n  async build() {\n    await super.build();\n    await this.hook(this.outputPath);\n  }\n}\n"]}