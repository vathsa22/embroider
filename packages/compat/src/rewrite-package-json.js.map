{"version":3,"file":"rewrite-package-json.js","sourceRoot":"","sources":["rewrite-package-json.ts"],"names":[],"mappings":";;;;;AAAA,sEAAqC;AAErC,2BAAmC;AACnC,+BAA4B;AAE5B,MAAqB,kBAAmB,SAAQ,yBAAM;IACpD,YAAY,SAAe,EAAU,cAAyB;QAC5D,KAAK,CAAC,CAAC,SAAS,CAAC,EAAE;YACjB,UAAU,EAAE,qCAAqC;YACjD,gBAAgB,EAAE,IAAI;YACtB,UAAU,EAAE,KAAK;SAClB,CAAC,CAAC;QALgC,mBAAc,GAAd,cAAc,CAAW;IAM9D,CAAC;IAED,KAAK;QACH,IAAA,kBAAa,EAAC,IAAA,WAAI,EAAC,IAAI,CAAC,UAAU,EAAE,cAAc,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;IAC/G,CAAC;CACF;AAZD,qCAYC","sourcesContent":["import Plugin from 'broccoli-plugin';\nimport type { Node } from 'broccoli-node-api';\nimport { writeFileSync } from 'fs';\nimport { join } from 'path';\n\nexport default class RewritePackageJSON extends Plugin {\n  constructor(inputTree: Node, private getPackageJSON: () => any) {\n    super([inputTree], {\n      annotation: 'embroider:core:rewrite-package-json',\n      persistentOutput: true,\n      needsCache: false,\n    });\n  }\n\n  build() {\n    writeFileSync(join(this.outputPath, 'package.json'), JSON.stringify(this.getPackageJSON(), null, 2), 'utf8');\n  }\n}\n"]}