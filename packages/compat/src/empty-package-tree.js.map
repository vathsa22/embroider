{"version":3,"file":"empty-package-tree.js","sourceRoot":"","sources":["empty-package-tree.ts"],"names":[],"mappings":";;;;;AACA,sEAAqC;AACrC,uCAAyC;AACzC,+BAA4B;AAE5B,eAAqB,SAAQ,yBAAM;IAGjC,YAAoB,eAAwB;QAC1C,KAAK,CAAC,EAAE,EAAE;YACR,UAAU,EAAE,oBAAoB;YAChC,gBAAgB,EAAE,IAAI;YACtB,UAAU,EAAE,KAAK;SAClB,CAAC,CAAC;QALe,oBAAe,GAAf,eAAe,CAAS;QAFpC,UAAK,GAAG,KAAK,CAAC;IAQtB,CAAC;IACD,KAAK;QACH,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YAChB,IAAA,wBAAa,EAAC,IAAA,WAAI,EAAC,IAAI,CAAC,UAAU,EAAE,cAAc,CAAC,EAAE;gBACnD,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI;gBAC/B,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,OAAO;gBACrC,QAAQ,EAAE,CAAC,aAAa,CAAC;gBACzB,aAAa,EAAE;oBACb,OAAO,EAAE,CAAC;oBACV,IAAI,EAAE,OAAO;oBACb,eAAe,EAAE,IAAI;iBACtB;gBACD,IAAI,EAAE,sIAAsI;aAC7I,CAAC,CAAC;QACL,CAAC;IACH,CAAC;CACF;AAzBD,4BAyBC","sourcesContent":["import type { Package } from '@embroider/core';\nimport Plugin from 'broccoli-plugin';\nimport { writeJSONSync } from 'fs-extra';\nimport { join } from 'path';\n\nexport default class extends Plugin {\n  private built = false;\n\n  constructor(private originalPackage: Package) {\n    super([], {\n      annotation: 'empty-package-tree',\n      persistentOutput: true,\n      needsCache: false,\n    });\n  }\n  build() {\n    if (!this.built) {\n      writeJSONSync(join(this.outputPath, 'package.json'), {\n        name: this.originalPackage.name,\n        version: this.originalPackage.version,\n        keywords: ['ember-addon'],\n        'ember-addon': {\n          version: 2,\n          type: 'addon',\n          'auto-upgraded': true,\n        },\n        '//': 'This empty package was created by embroider. See https://github.com/embroider-build/embroider/blob/main/docs/empty-package-output.md',\n      });\n    }\n  }\n}\n"]}