{"version":3,"file":"ember-cli-mirage.js","sourceRoot":"","sources":["ember-cli-mirage.ts"],"names":[],"mappings":";;;;;AAAA,2DAAkC;AAClC,sEAA0C;AAG1C,eAAqB,SAAQ,kBAAO;IAClC,IAAI,WAAW;QACb,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,EAAE,CAAC;YAC7C,OAAO,KAAK,CAAC,WAAW,CAAC;QAC3B,CAAC;QACD,OAAO;YACL,IAAI,EAAE,OAAO;YACb,OAAO,EAAE,CAAC;YACV,eAAe,EAAE,IAAI;SACtB,CAAC;IACJ,CAAC;IAED,IAAI,MAAM;QACR,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC;QACxB,IAAI,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,EAAE,CAAC;YAC7C,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,IAAA,yBAAW,EAAC,IAAI,EAAE;YACvB,OAAO,EAAE,CAAC,cAAc,CAAC;SAC1B,CAAC,CAAC;IACL,CAAC;CACF;AArBD,4BAqBC","sourcesContent":["import V1Addon from '../v1-addon';\nimport buildFunnel from 'broccoli-funnel';\nimport type { AddonMeta } from '@embroider/core';\n\nexport default class extends V1Addon {\n  get packageMeta(): Partial<AddonMeta> {\n    if (this.addonInstance._shouldIncludeFiles()) {\n      return super.packageMeta;\n    }\n    return {\n      type: 'addon',\n      version: 2,\n      'auto-upgraded': true,\n    };\n  }\n\n  get v2Tree() {\n    let tree = super.v2Tree;\n    if (this.addonInstance._shouldIncludeFiles()) {\n      return tree;\n    }\n    return buildFunnel(tree, {\n      include: ['package.json'],\n    });\n  }\n}\n"]}