{"version":3,"file":"dummy-package.js","sourceRoot":"","sources":["dummy-package.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,0CAA0C;AAC1C,2DAA6C;AAC7C,iEAAyC;AAEzC,8EAA8E;AAC9E,qDAAqD;AACrD,MAAqB,YAAa,SAAQ,cAAO;IAC/C,YAAY,IAAY,EAAU,eAAuB,EAAE,YAA0B;QACnF,KAAK,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;QADA,oBAAe,GAAf,eAAe,CAAQ;IAEzD,CAAC;IAGD,IAAc,mBAAmB;QAC/B,IAAI,GAAG,GAAG,IAAA,mBAAS,EAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,CAAC;QAC7E,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;QACnB,OAAO,GAAG,CAAC;IACb,CAAC;IAGD,IAAI,iBAAiB;QACnB,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC;QACnC,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;QACnB,CAAC;QACD,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAChE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAtBD,+BAsBC;AAhBC;IADC,IAAA,4BAAO,GAAE;uDAKT;AAGD;IADC,IAAA,4BAAO,GAAE;qDAST","sourcesContent":["import type { PackageCache } from '@embroider/core';\nimport { Package } from '@embroider/core';\nimport { Memoize } from 'typescript-memoize';\nimport cloneDeep from 'lodash/cloneDeep';\n\n// A specialized Package that represents a Dummy App (the app that comes along\n// with an addon for purposes of testing that addon).\nexport default class DummyPackage extends Package {\n  constructor(root: string, private owningAddonRoot: string, packageCache: PackageCache) {\n    super(root, packageCache, true);\n  }\n\n  @Memoize()\n  protected get internalPackageJSON() {\n    let pkg = cloneDeep(this.packageCache.get(this.owningAddonRoot).packageJSON);\n    pkg.name = 'dummy';\n    return pkg;\n  }\n\n  @Memoize()\n  get nonResolvableDeps(): Map<string, Package> {\n    let deps = super.nonResolvableDeps;\n    if (!deps) {\n      deps = new Map();\n    }\n    const owningAddon = this.packageCache.get(this.owningAddonRoot);\n    deps.set(owningAddon.name, owningAddon);\n    return deps;\n  }\n}\n"]}